(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{929:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(818)}])},7854:function(e,n,s){"use strict";s.d(n,{$:function(){return r}});var a=s(5893),t=s(7294),c=s(9450),l={color:"black",textDecoration:"none",padding:"0.1rem 0rem"},r=function(e){var n=e.id,s=e.children,r=e.level,o=void 0===r?1:r;return(0,(0,t.useContext)(c.L)[1])({id:n,level:o,children:s}),1===o?(0,a.jsx)("h2",{id:"".concat(n),style:l,children:s}):(0,a.jsx)("h3",{id:"".concat(n),style:l,children:s})};n.Z=r},4169:function(e,n,s){"use strict";var a=s(5893),t=s(9008);n.Z=function(e){var n=e.title;return(0,a.jsx)(t.default,{children:(0,a.jsxs)("title",{children:[n," | Morpheus GraphQL"]})})}},818:function(e,n,s){"use strict";s.r(n);var a=s(5893),t=s(1151),c=s(4169),l=s(7854);function r(e){var n=Object.assign({h1:"h1",a:"a",img:"img",p:"p",h3:"h3",em:"em",div:"div",pre:"pre",code:"code",span:"span",ul:"ul",li:"li"},(0,t.a)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{title:"Home"}),"\n",(0,a.jsxs)(n.h1,{children:["Morpheus GraphQL ",(0,a.jsx)(n.a,{href:"https://hackage.haskell.org/package/morpheus-graphql",children:(0,a.jsx)(n.img,{src:"https://img.shields.io/hackage/v/morpheus-graphql.svg",alt:"Hackage"})})," ",(0,a.jsx)(n.img,{src:"https://github.com/morpheusgraphql/morpheus-graphql/workflows/CI/badge.svg",alt:"CI"})]}),"\n",(0,a.jsx)(n.p,{children:"Build GraphQL APIs with your favorite functional language!"}),"\n",(0,a.jsx)(n.p,{children:"Morpheus GraphQL (Server & Client) helps you to build GraphQL APIs in Haskell with native Haskell types.\nMorpheus will convert your Haskell types to a GraphQL schema and all your resolvers are just native Haskell functions. Morpheus GraphQL can also convert your GraphQL Schema or Query to Haskell types and validate them in compile time."}),"\n",(0,a.jsxs)(n.p,{children:["Morpheus is still in an early stage of development, so any feedback is more than welcome, and we appreciate any contribution!\nJust open an issue here on GitHub, or join ",(0,a.jsx)(n.a,{href:"https://morpheus-graphql-slack-invite.herokuapp.com/",children:"our Slack channel"})," to get in touch."]}),"\n",(0,a.jsx)(l.Z,{id:"getting-started",children:" Getting Started "}),"\n",(0,a.jsx)(n.h3,{children:"Setup"}),"\n",(0,a.jsx)(n.p,{children:"To get started with Morpheus, you first need to add it to your project's dependencies, as follows (assuming you're using hpack):"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"package.yml"})}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-yaml",children:(0,a.jsxs)(n.code,{className:"language-yaml",children:[(0,a.jsx)(n.span,{className:"token key atrule",children:"dependencies"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"-"})," morpheus",(0,a.jsx)(n.span,{className:"token punctuation",children:"-"}),"graphql\n"]})})}),"\n",(0,a.jsx)(n.p,{children:"Additionally, you should tell stack which version to pick:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"stack.yml"})}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-yaml",children:(0,a.jsxs)(n.code,{className:"language-yaml",children:[(0,a.jsx)(n.span,{className:"token key atrule",children:"resolver"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," lts",(0,a.jsx)(n.span,{className:"token punctuation",children:"-"}),(0,a.jsx)(n.span,{className:"token number",children:"16.2"}),"\n\n",(0,a.jsx)(n.span,{className:"token key atrule",children:"extra-deps"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"-"})," morpheus",(0,a.jsx)(n.span,{className:"token punctuation",children:"-"}),"graphql",(0,a.jsx)(n.span,{className:"token punctuation",children:"-"}),"0.17.0\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["As Morpheus is quite new, make sure stack can find morpheus-graphql by running ",(0,a.jsx)(n.code,{children:"stack upgrade"})," and ",(0,a.jsx)(n.code,{children:"stack update"})]}),"\n",(0,a.jsx)(n.h3,{children:"Building your first GraphQL API"}),"\n",(0,a.jsx)(n.h3,{children:"with GraphQL syntax"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"schema.gql"})}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-graphql",children:(0,a.jsxs)(n.code,{className:"language-graphql",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"deity"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token attr-name",children:"name"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token scalar",children:"String"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token string",children:'"Morpheus"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Deity"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsxs)(n.span,{className:"token description string",children:['"""',(0,a.jsx)(n.span,{className:"token language-markdown"}),"\n",(0,a.jsx)(n.span,{className:"token language-markdown",children:"Description for Deity"}),"\n",(0,a.jsx)(n.span,{className:"token language-markdown"}),'"""']}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Deity"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsxs)(n.span,{className:"token description string",children:['"""',(0,a.jsx)(n.span,{className:"token language-markdown"}),"\n",(0,a.jsx)(n.span,{className:"token language-markdown",children:"  Description for name"}),"\n",(0,a.jsx)(n.span,{className:"token language-markdown",children:"  "}),'"""']}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"name"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token scalar",children:"String"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"power"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token scalar",children:"String"})," ",(0,a.jsx)(n.span,{className:"token directive function",children:"@deprecated"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token attr-name",children:"reason"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"some reason for"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n"]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"API.hs"})}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token comment",children:"{-# LANGUAGE DeriveGeneric #-}"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"{-# LANGUAGE DuplicateRecordFields #-}"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"{-# LANGUAGE FlexibleContexts #-}"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"{-# LANGUAGE FlexibleInstances #-}"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"{-# LANGUAGE MultiParamTypeClasses #-}"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"{-# LANGUAGE NamedFieldPuns #-}"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"{-# LANGUAGE OverloadedStrings #-}"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"{-# LANGUAGE ScopedTypeVariables #-}"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"{-# LANGUAGE TemplateHaskell #-}"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"{-# LANGUAGE TypeFamilies #-}"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"module"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"API"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token hvariable",children:"api"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n\n",(0,a.jsxs)(n.span,{className:"token import-statement",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"import"})," Data",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"ByteString",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"Lazy",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"Char8"]})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"ByteString"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsxs)(n.span,{className:"token import-statement",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"import"})," Data",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"Morpheus"]})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token hvariable",children:"interpreter"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsxs)(n.span,{className:"token import-statement",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"import"})," Data",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"Morpheus",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"Document"]})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token hvariable",children:"importGQLDocument"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsxs)(n.span,{className:"token import-statement",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"import"})," Data",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"Morpheus",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"Types"]})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"RootResolver"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token operator",children:".."}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token operator",children:".."}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsxs)(n.span,{className:"token import-statement",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"import"})," Data",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"Text"]})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"importGQLDocument"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"schema.gql"'}),"\n\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"rootResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"RootResolver"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"rootResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="}),"\n  ",(0,a.jsx)(n.span,{className:"token constant",children:"RootResolver"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"queryResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token hvariable",children:"deity"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(n.span,{className:"token hvariable",children:"mutationResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(n.span,{className:"token hvariable",children:"subscriptionResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n    ",(0,a.jsx)(n.span,{className:"token hvariable",children:"deity"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token hvariable",children:"name"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="}),"\n      ",(0,a.jsx)(n.span,{className:"token hvariable",children:"pure"}),"\n        ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n          ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"pure"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n            ",(0,a.jsx)(n.span,{className:"token hvariable",children:"power"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"pure"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Just"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"Shapeshifting"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n          ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"api"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ByteString"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ByteString"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"api"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"interpreter"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"rootResolver"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["Template Haskell Generates types: ",(0,a.jsx)(n.code,{children:"Query"})," , ",(0,a.jsx)(n.code,{children:"Deity"}),", ",(0,a.jsx)(n.code,{children:"DeityArgs"}),", that can be used by ",(0,a.jsx)(n.code,{children:"rootResolver"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"descriptions"})," and ",(0,a.jsx)(n.code,{children:"deprecations"})," will be displayed in introspection."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"importGQLDocumentWithNamespace"})," will generate Types with namespaced fields. If you don't need namespace use ",(0,a.jsx)(n.code,{children:"importGQLDocument"})]}),"\n",(0,a.jsx)(n.h3,{children:"with Native Haskell Types"}),"\n",(0,a.jsxs)(n.p,{children:["To define a GraphQL API with Morpheus we start by defining the API Schema as a native Haskell data type,\nwhich derives the ",(0,a.jsx)(n.code,{children:"Generic"})," typeClass. Lazily resolvable fields on this ",(0,a.jsx)(n.code,{children:"Query"})," type are defined via ",(0,a.jsx)(n.code,{children:"a -> ResolverQ () IO b"}),", representing resolving a set of arguments ",(0,a.jsx)(n.code,{children:"a"})," to a concrete value ",(0,a.jsx)(n.code,{children:"b"}),"."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"deity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"fullName"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"         ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Non-Nullable Field"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"power"}),"    ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Maybe"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"   ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Nullable Field"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"}),"      ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"        ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Required Argument"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"mythology"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Maybe"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"  ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Optional Argument"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["For each field in the ",(0,a.jsx)(n.code,{children:"Query"})," type defined via ",(0,a.jsx)(n.code,{children:"a -> m b"})," (like ",(0,a.jsx)(n.code,{children:"deity"}),") we will define a resolver implementation that provides the values during runtime by referring to\nsome data source, e.g. a database or another API. Fields that are defined without ",(0,a.jsx)(n.code,{children:"a -> m b"})," you can just provide a value."]}),"\n",(0,a.jsxs)(n.p,{children:["In above example, the field of ",(0,a.jsx)(n.code,{children:"DeityArgs"})," could also be named using reserved identities (such as: ",(0,a.jsx)(n.code,{children:"type"}),", ",(0,a.jsx)(n.code,{children:"where"}),", etc), in order to avoid conflict, a prime symbol (",(0,a.jsx)(n.code,{children:"'"}),") must be attached. For example, you can have:"]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"}),"      ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"        ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Required Argument"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"mythology"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Maybe"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"  ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Optional Argument"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"type"}),"'     ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["The field name in the final request will be ",(0,a.jsx)(n.code,{children:"type"})," instead of ",(0,a.jsx)(n.code,{children:"type'"}),". The Morpheus request parser converts each of the reserved identities in Haskell 2010 to their corresponding names internally. This also applies to selections."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ResolverQ"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"e"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveDeity"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"mythology"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"liftEither"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"$"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"dbDeity"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"mythology"}),"\n\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"askDB"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Maybe"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Either"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"String"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"askDB"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token operator",children:"..."}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["To make this ",(0,a.jsx)(n.code,{children:"Query"})," type available as an API, we define a ",(0,a.jsx)(n.code,{children:"RootResolver"})," and feed it to the Morpheus ",(0,a.jsx)(n.code,{children:"interpreter"}),". A ",(0,a.jsx)(n.code,{children:"RootResolver"})," consists of ",(0,a.jsx)(n.code,{children:"query"}),", ",(0,a.jsx)(n.code,{children:"mutation"})," and ",(0,a.jsx)(n.code,{children:"subscription"})," definitions, while we omit the latter for this example:"]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token hvariable",children:"rootResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"RootResolver"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"rootResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="}),"\n  ",(0,a.jsx)(n.span,{className:"token constant",children:"RootResolver"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"queryResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token hvariable",children:"deity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveDeity"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"mutationResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"subscriptionResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"gqlApi"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ByteString"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ByteString"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"gqlApi"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"interpreter"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"rootResolver"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["As you can see, the API is defined as ",(0,a.jsx)(n.code,{children:"ByteString -> IO ByteString"})," which we can either invoke directly or use inside an arbitrary web framework\nsuch as ",(0,a.jsx)(n.code,{children:"scotty"})," or ",(0,a.jsx)(n.code,{children:"serverless-haskell"}),". We'll go for ",(0,a.jsx)(n.code,{children:"scotty"})," in this example:"]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token hvariable",children:"main"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"main"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"scotty"})," ",(0,a.jsx)(n.span,{className:"token number",children:"3000"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"$"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"post"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"/api"'})," ",(0,a.jsx)(n.span,{className:"token operator",children:"$"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"raw"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"=<<"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token hvariable",children:"liftIO"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"."})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"gqlApi"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"=<<"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"body"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["If we now send a POST request to ",(0,a.jsx)(n.code,{children:"http://localhost:3000/api"})," with a GraphQL Query as body for example in a tool like ",(0,a.jsx)(n.code,{children:"Insomnia"}),":"]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-graphql",children:(0,a.jsxs)(n.code,{className:"language-graphql",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"query"})," ",(0,a.jsx)(n.span,{className:"token definition-query function",children:"GetDeity"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token property-query",children:"deity"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token attr-name",children:"name"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"Morpheus"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    ",(0,a.jsx)(n.span,{className:"token property",children:"fullName"}),"\n    ",(0,a.jsx)(n.span,{className:"token property",children:"power"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n"]})})}),"\n",(0,a.jsx)(n.p,{children:"our query will be resolved!"}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-json",children:(0,a.jsxs)(n.code,{className:"language-json",children:[(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token property",children:'"data"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    ",(0,a.jsx)(n.span,{className:"token property",children:'"deity"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n      ",(0,a.jsx)(n.span,{className:"token property",children:'"fullName"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"Morpheus"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(n.span,{className:"token property",children:'"power"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"Shapeshifting"'}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n"]})})}),"\n",(0,a.jsx)(l.Z,{id:"advanced-topics",children:" Advanced topics "}),"\n",(0,a.jsx)(n.h3,{children:"Introspection"}),"\n",(0,a.jsxs)(n.p,{children:["Morpheus converts your schema to a GraphQL introspection automatically. You can use tools like ",(0,a.jsx)(n.code,{children:"Insomnia"})," to take a\nlook at the introspection and validate your schema.\nIf you need a description for your GQLType inside of the introspection you can define the GQLType instance manually\nand apply Describe directive to it:"]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"..."}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"directives"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"_"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"typeDirective"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Describe"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"A supernatural being considered divine and sacred"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["screenshots from ",(0,a.jsx)(n.code,{children:"Insomnia"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.img,{src:"https://morpheusgraphql.com/assets/img/introspection/spelling.png",alt:"alt text",title:"spelling"}),"\n",(0,a.jsx)(n.img,{src:"https://morpheusgraphql.com/assets/img/introspection/autocomplete.png",alt:"alt text",title:"autocomplete"}),"\n",(0,a.jsx)(n.img,{src:"https://morpheusgraphql.com/assets/img/introspection/type.png",alt:"alt text",title:"type"})]}),"\n",(0,a.jsx)(l.Z,{id:"about",children:" About "}),"\n",(0,a.jsx)(n.h3,{children:"The name"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.em,{children:"Morpheus"})," is the greek god of sleep and dreams whose name comes from the Greek word ",(0,a.jsx)(n.em,{children:"\u03bc\u03bf\u03c1\u03c6\u03ae"})," meaning form or shape.\nHe is said to be able to mimic different forms and GraphQL is good at doing exactly that: Transforming data in the shape\nof many different APIs."]}),"\n",(0,a.jsx)(n.h3,{children:"Team"}),"\n",(0,a.jsxs)(n.p,{children:["Morpheus is written and maintained by ",(0,a.jsx)(n.a,{href:"https://github.com/nalchevanidze",children:(0,a.jsx)(n.em,{children:"nalchevanidze"})})]}),"\n",(0,a.jsx)(n.h3,{children:"Roadmap"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Medium future:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Stabilize API"}),"\n",(0,a.jsx)(n.li,{children:"Specification-isomorphic error handling"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Long term:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Support all possible GQL features"}),"\n",(0,a.jsx)(n.li,{children:"Performance optimization"}),"\n"]}),"\n"]}),"\n"]})]})}n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},(0,t.a)(),e.components),s=n.wrapper;return s?(0,a.jsx)(s,Object.assign({},e,{children:(0,a.jsx)(r,e)})):r(e)}},9008:function(e,n,s){e.exports=s(3121)},1151:function(e,n,s){"use strict";s.d(n,{a:function(){return l}});var a=s(7294);const t={},c=a.createContext(t);function l(e){const n=a.useContext(c);return a.useMemo((function(){return"function"===typeof e?e(n):{...n,...e}}),[n,e])}}},function(e){e.O(0,[774,888,179],(function(){return n=929,e(e.s=n);var n}));var n=e.O();_N_E=n}]);